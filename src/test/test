version: v1\nkind: model\nname: storage\ncolumns:\n  - name: id\n    desc: a identity data\n    type: int\n    default: 0\n  - name: name\n    desc: the name of people\n    type: int\n    default: ''\n  - name: sex\n    desc: '0: male, 1: female'\n    type: int\n    default: 0
version: v1\nkind: pipeline\nname: test\nsteps:\n  - name: outputToOtherModel\n    desc: 验证上个步骤获取的数据是否符合定义的数据模型\n    type: MQ_Send\n    settings:\n      protocol: amop\n      host:a\n      user:a\n      topic:a\n
curl -H "Content-Type: application/json" -X POST -d '{"data":"version: v1\nkind: pipeline\nname: test10\nsteps:\n  - name: outputToOtherModel\n    desc: 验证上个步骤获取的数据是否符合定义的数据模型\n    type: test\n    settings:\n      protocol: amop\n      host: a\n      user: a\n      topic: a"}' http://localhost:8000/api/pipeline
curl -H "Content-Type: application/json" -X POST -d '{"data":"version: v1\nkind: pipeline\nname: test17\nsteps:\n  - name: outputToOtherModel\n    desc: 验证上个步骤获取的数据是否符合定义的数据模型\n    type: test\n    settings:\n      protocol: amqp\n      host: a\n      user: a\n      topic: a\nservices:\n  - name: testMQ\n    desc: aaa\n    type: MQ\n    settings:\n      protocol: amqp\n      host: a\n      user: a\n      topic: a\n      ackPolicy: immediate"}' http://localhost:8000/api/pipeline

curl -H "Content-Type: application/json" -X POST -d '{"data":"version: v1\nkind: pipeline\nname: test22\nsteps:\n  - name: outputToOtherModel\n    desc: 验证上个步骤获取的数据是否符合定义的数据模型\n    type: test\n    settings:\n      protocol: amqp\n      host: a\n      user: a\n      topic: a\nservices:\n  - name: testMQ\n    desc: aaa\n    type: MQ\n    settings:\n      protocol: amqp\n      host: 47.97.182.182:32222\n      user: root\n      pwd: !!str 123456\n      topic: hello\n      ackPolicy: immediate"}' http://localhost:8000/api/pipeline

curl -H "Content-Type: application/json" -X POST -d '{"data":"version: v1\nkind: pipeline\nname: test24\nsteps:\n  - name: outputToOtherModel\n    desc: 验证上个步骤获取的数据是否符合定义的数据模型\n    type: HTTP_Send\n    settings:\n      url: http://localhost:5000\n      host: a\n      user: a\n      topic: a\nservices:\n  - name: testMQ\n    desc: aaa\n    type: MQ\n    settings:\n      protocol: amqp\n      host: 47.97.182.182:32222\n      user: root\n      pwd: !!str 123456\n      topic: hello\n      ackPolicy: immediate"}' http://localhost:8000/api/pipeline

curl -H "Content-Type: application/json" -X POST -d '{"data":"version: v1\nkind: pipeline\nname: test25\nsteps:\n  - name: outputToOtherModel\n    desc: 验证上个步骤获取的数据是否符合定义的数据模型\n    type: test2\n    settings:\n      url: http://localhost:5000\n      host: a\n      user: a\n      topic: a\nservices:\n  - name: testMQ\n    desc: aaa\n    type: MQ\n    settings:\n      protocol: amqp\n      host: 47.97.182.182:32222\n      user: root\n      pwd: !!str 123456\n      topic: hello\n      ackPolicy: immediate"}' http://localhost:8000/api/pipeline
curl -H "Content-Type: application/json" -X POST -d '{"data":"version: v1\nkind: pipeline\nname: test26\nsteps:\n  - name: outputToOtherModel\n    desc: 验证上个步骤获取的数据是否符合定义的数据模型\n    type: test2\n    settings:\n      url: http://localhost:5000\n      host: a\n      user: a\n      topic: a\nservices:\n  - name: testMQ\n    desc: aaa\n    type: MQ\n    settings:\n      protocol: amqp\n      host: 47.97.182.182:32222\n      user: root\n      pwd: !!str 123456\n      topic: hello\n      ackPolicy: immediate"}' http://localhost:8000/api/pipeline
curl -H "Content-Type: application/json" -X POST -d '{"data":"version: v1\nkind: pipeline\nname: test27\nsteps:\n  - name: outputToOtherModel\n    desc: 验证上个步骤获取的数据是否符合定义的数据模型\n    type: test2\n    settings:\n      url: http://localhost:5000\n      host: a\n      user: a\n      topic: a\nservices:\n  - name: testMQ\n    desc: aaa\n    type: MQ\n    settings:\n      protocol: amqp\n      host: 47.97.182.182:32222\n      user: root\n      pwd: !!str 123456\n      topic: hello\n      ackPolicy: immediate"}' http://localhost:8000/api/pipeline
curl -H "Content-Type: application/json" -X POST -d '{"data":"version: v1\nkind: pipeline\nname: test29\nsteps:\n  - name: outputToOtherModel\n    desc: 验证上个步骤获取的数据是否符合定义的数据模型\n    type: test2\n    settings:\n      url: http://localhost:5000\n      host: a\n      user: a\n      topic: a\n  - name: outputToOtherModel2\n    desc: 验证上个步骤获取的数据是否符合定义的数据模型\n    type: test\nservices:\n  - name: testMQ\n    desc: aaa\n    type: MQ\n    settings:\n      protocol: amqp\n      host: 47.97.182.182:32222\n      user: root\n      pwd: !!str 123456\n      topic: hello\n      ackPolicy: immediate"}' http://localhost:8000/api/pipeline

curl -H "Content-Type: application/json" -X POST -d '{"data":"version: v1\nkind: pipeline\nname: test30\nsteps:\n  - name: outputToOtherModel\n    desc: 验证上个步骤获取的数据是否符合定义的数据模型\n    type: test2\n    settings:\n      url: http://localhost:5000\n      host: a\n      user: a\n      topic: a\n  - name: outputToOtherModel2\n    desc: 验证上个步骤获取的数据是否符合定义的数据模型\n    type: test\nservices:\n  - name: testMQ\n    desc: aaa\n    type: API\n    settings:\n      protocol: amqp\n      host: 47.97.182.182:32222\n      user: root\n      pwd: !!str 123456\n      topic: hello\n      ackPolicy: immediate"}' http://localhost:8000/api/pipeline

curl -H "Content-Type: application/json" -X POST -d '{"data":"version: v1\nkind: pipeline\nname: test31\nsteps:\n  - name: outputToOtherModel\n    desc: 验证上个步骤获取的数据是否符合定义的数据模型\n    type: test2\n    settings:\n      url: http://localhost:5000\n      host: a\n      user: a\n      topic: a\n  - name: outputToOtherModel2\n    desc: 验证上个步骤获取的数据是否符合定义的数据模型\n    type: test\nservices:\n  - name: testMQ\n    desc: aaa\n    type: DB\n    settings:\n      protocol: amqp\n      host: 47.97.182.182:32222\n      user: root\n      pwd: !!str 123456\n      topic: hello\n      ackPolicy: immediate"}' http://localhost:8000/api/pipeline

curl -H "Content-Type: application/json" -X POST -d '{"data":"version: v1\nkind: pipeline\nname: test32\nsteps:\n  - name: outputToOtherModel\n    desc: 验证上个步骤获取的数据是否符合定义的数据模型\n    type: test2\n    settings:\n      url: http://localhost:5000\n      host: a\n      user: a\n      topic: a\n  - name: outputToOtherModel2\n    desc: 验证上个步骤获取的数据是否符合定义的数据模型\n    type: test\nservices:\n  - name: testMQ\n    desc: aaa\n    type: DB\n    settings:\n      db_type: postgres\n      host: 47.110.154.127\n      port: !!str 30172\n      user: postgres\n      pwd: huansi@2017\n      name: hairtail\n      table: pipeline\n      column: hairtail\n      ackPolicy: immediate"}' http://localhost:8000/api/pipeline
"host=47.110.154.127 port=30172 user=postgres dbname=hairtail sslmode=disable password=huansi@2017"

curl -H "Content-Type: application/json" -X POST -d '{"data":"version: v1\nkind: pipeline\nname: test35\nsteps:\n  - name: outputToOtherModel\n    desc: 验证上个步骤获取的数据是否符合定义的数据模型\n    type: test2\n    settings:\n      url: http://localhost:5000\n      host: a\n      user: a\n      topic: a\n  - name: outputToOtherModel2\n    desc: 验证上个步骤获取的数据是否符合定义的数据模型\n    type: test\nservices:\n  - name: testMQ\n    desc: aaa\n    type: DB\n    settings:\n      db_type: postgres\n      host: 47.110.154.127\n      port: !!str 30172\n      user: postgres\n      pwd: huansi@2017\n      name: hairtail\n      table: pipelines\n      column: hairtail\n      ackPolicy: immediate"}' http://localhost:8000/api/pipeline

curl -H "Content-Type: application/json" -X POST -d '{"data":"version: v1\nkind: pipeline\nname: test42\nsteps:\n  - name: outputToOtherModel\n    desc: 验证上个步骤获取的数据是否符合定义的数据模型\n    type: test2\n    settings:\n      url: http://localhost:5000\n      host: a\n      user: a\n      topic: a\n  - name: outputToOtherModel2\n    desc: 验证上个步骤获取的数据是否符合定义的数据模型\n    type: test\nservices:\n  - name: testMQ\n    desc: aaa\n    type: DB\n    settings:\n      db_type: mysql\n      host: 116.62.213.56\n      port: !!str 51603\n      user: root\n      pwd: huansi@2017\n      name: dougo\n      table: users\n      column: hairtail\n      ackPolicy: immediate"}' http://localhost:8000/api/pipeline


		//db,err := gorm.Open("mysql", "host=116.62.213.56 port=51603 user=root dbname=dougo password=huansi@2017")


curl -H "Content-Type: application/json" -X POST -d '{"pipeline":"test30","service":"testMQ","context":"test"}' http://localhost:8000/api/data`

amqp://root:123456@47.97.182.182:32222/
